{"mappings":"AAIA,MAAMA,EAAOC,SAASC,cAAc,QACrBD,SAASC,cAAc,UAEtCF,EAAKG,iBAAiB,UAItB,SAAkBC,GAChB,IAAIC,EAAU,EACd,MAAMC,EAAcC,OAAOP,EAAK,GAAGQ,OAEnC,IAAIC,EAAkB,EAClBC,EAAaH,OAAOP,EAAK,GAAGQ,OAChC,MAAMG,EAAeJ,OAAOP,EAAK,GAAGQ,OAEpCJ,EAAIQ,iBAEJ,MAAMC,EAAaC,aAAY,KAC7B,GAAIT,IAAYC,EAEd,YADAS,cAAcF,GAGhB,MAAMG,EAAcN,GAAcC,EAC5BM,EAAmBR,GAAmB,EAuBhD,IAAuBS,EAAUC,GAAVD,EArBLD,EAqBeE,EArBEH,EAsBjB,IAAII,SAAQ,CAACC,EAASC,KACpC,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,EACFF,EAAQ,C,SAAEH,E,MAAUC,IAEpBG,EAAO,C,SAAEJ,E,MAAUC,GAAQ,GAE5BA,EAAM,KA9BNQ,MAAK,EAACT,SAAEA,EAAQC,MAAEA,MACjBS,SAASC,OAAOC,QACd,uBAAqBZ,QAAiBC,MAAW,CAE/CY,QAAS,KAEZ,IAEFC,OAAM,EAACd,SAAEA,EAAQC,MAAEA,MAClBS,SAASC,OAAOI,QACd,sBAAoBf,QAAeC,MAAW,CAE5CY,QAAS,KAEZ,IAEL1B,GAAW,CAAC,GACXM,E","sources":["src/js/03-promises.js"],"sourcesContent":["// import Notiflix from \"notiflix\";\n\n// Get accesses and add listeners\n\nconst form = document.querySelector('form');\nconst button = document.querySelector('button');\n\nform.addEventListener('submit', interval);\n\n// The function make interval for createPromise\n\nfunction interval(evt) {\n  let counter = 0;\n  const MAX_COUNTER = Number(form[2].value);\n\n  let positionCounter = 0;\n  let firstDelay = Number(form[0].value);\n  const usrDelayStep = Number(form[1].value);\n\n  evt.preventDefault();\n\n  const intervalID = setInterval(() => {\n    if (counter === MAX_COUNTER) {\n      clearInterval(intervalID);\n      return;\n    }\n    const totalDelay = (firstDelay += usrDelayStep);\n    const positionPromise = (positionCounter += 1);\n\n    createPromise(positionPromise, totalDelay)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(\n          `✅ Fulfilled promise ${position} in ${delay}ms`,\n          {\n            timeout: 8000,\n          }\n        );\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(\n          `❌ Rejected promise ${position} in ${delay}ms`,\n          {\n            timeout: 8000,\n          }\n        );\n      });\n    counter += 1;\n  }, usrDelayStep);\n}\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n  return promise;\n}\n"],"names":["$47d4ff9957288465$var$form","document","querySelector","addEventListener","evt","counter","MAX_COUNTER","Number","value","positionCounter","firstDelay","usrDelayStep","preventDefault","intervalID","setInterval","clearInterval","totalDelay","positionPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","then","Notiflix","Notify","success","timeout","catch","failure"],"version":3,"file":"03-promises.aefeb7be.js.map"}